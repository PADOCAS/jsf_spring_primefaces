<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core">    

    <!--Template para progressBar onde será utilizado no sistema todo!-->
    <!--ui:composition para indicar que é poderá ser incluído em qualquer outra página-->
    <ui:composition>
        <style type="text/css">
            /*Configuraçõe para centralizar os textos dos dialogs (título e footer)*/
            .ui-dialog-title {
                float:none !important;
            }
            
            .ui-dialog-titlebar {
                text-align: center !important;
            }
            
            .ui-dialog-footer {
                text-align: center !important;
            }
        </style>
        <!--Fazendo dessa forma, ao incluir o template na página, toda chamada ajax vai fazer a abertura e fechamento do dialog automaticamente após o processamento-->
        <!--Com isso, não é necessário fazer a chamada manual para todos os eventos ajax-->
        <!--Ajax para executar a abertura e fechamento do dialog assim que acabar o processamento-->
        <!--Nesse caso com ajax chamando fica automatico, será criado um para fazer isso manualmente também-->
        <p:ajaxStatus id="ajasStatus" onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" />

        <!--Header para aparecer Processando escrito-->
        <!--Footer para aparecer aguarde...-->
        <!--Modal e não deixar mudar ele de lugar pelo usuário-->
        <!--closable = false Não deixar fechar ele pelo usuário-->
        <!--appendTo para aparecer sempre a frente de todo conteudo que estiver utilizando nas páginas-->
        <!--Dentro dele vai ter o gif do progress bar-->
        <p:dialog id="dlgAjaxStatusProgressBar"
                  widgetVar="statusDialog"
                  modal="true"
                  resizable="false"
                  height="200px;"
                  width="200px;"
                  header="Processando"
                  footer="Aguarde..."
                  draggable="false"
                  appendTo="@(body)"
                  dynamic="false"
                  closable="false">
            <h:graphicImage id="imgAjaxStatusLoader" library="img" name="ajax-loader.gif" styleClass="bordaImagem" />
        </p:dialog>

        <!--Criado um dialog para fazer manualmente:-->
        <!--Esse pode ser fechado, pois pode ter dado erro e o usuário fecha ele manualmente-->
        <p:dialog id="dlgAjaxStatusError"
                  widgetVar="statusDialogError"
                  modal="true"
                  resizable="false"
                  height="200px;"
                  width="200px;"
                  header="Erro ao processar"
                  footer="Erro"
                  draggable="false"
                  appendTo="@(body)"
                  dynamic="false"
                  closable="true">
            <h:graphicImage id="imgAjaxStatusError" library="img" name="error.png" styleClass="bordaImagem" />
        </p:dialog>
    </ui:composition>
</html>
